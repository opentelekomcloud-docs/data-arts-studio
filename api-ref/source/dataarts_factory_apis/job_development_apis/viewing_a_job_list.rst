:original_name: dataartsstudio_02_0086.html

.. _dataartsstudio_02_0086:

Viewing a Job List
==================

Function
--------

This API is used to query a list of batch or real-time jobs. A maximum of 100 jobs can be returned for each query.

URI
---

-  URI format

   GET /v1/{project_id}/jobs?jobType={jobType}&offset={offset}&limit={limit}&jobName={jobName}

-  Parameter description

   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                           |
   +=================+=================+=================+=======================================================================================================================+
   | project_id      | Yes             | String          | Project ID. For details about how to obtain a project ID, see :ref:`Project ID and Account ID <projectid_accountid>`. |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------+
   | jobType         | No              | String          | Job type.                                                                                                             |
   |                 |                 |                 |                                                                                                                       |
   |                 |                 |                 | -  **REAL_TIME**: real-time processing                                                                                |
   |                 |                 |                 | -  **BATCH**: batch processing                                                                                        |
   |                 |                 |                 |                                                                                                                       |
   |                 |                 |                 | Default value: **BATCH**                                                                                              |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------+
   | offset          | No              | Integer         | Number of pages of the paging list.                                                                                   |
   |                 |                 |                 |                                                                                                                       |
   |                 |                 |                 | Default value: **0**                                                                                                  |
   |                 |                 |                 |                                                                                                                       |
   |                 |                 |                 | The value must be greater than or equal to **0**.                                                                     |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------+
   | limit           | No              | Integer         | The maximum number of records on each page.                                                                           |
   |                 |                 |                 |                                                                                                                       |
   |                 |                 |                 | Value range: 1 to 100                                                                                                 |
   |                 |                 |                 |                                                                                                                       |
   |                 |                 |                 | Default value: **10**                                                                                                 |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------+
   | jobName         | No              | String          | Job name.                                                                                                             |
   +-----------------+-----------------+-----------------+-----------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 1** Request header parameter

   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                               |
   +=================+=================+=================+===========================================================================================+
   | workspace       | No              | String          | Workspace ID.                                                                             |
   |                 |                 |                 |                                                                                           |
   |                 |                 |                 | -  If this parameter is not set, data in the **default** workspace is queried by default. |
   |                 |                 |                 | -  To query data in other workspaces, this header must be carried.                        |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------+

Response Parameters
-------------------

.. table:: **Table 2** Response parameters

   +-----------+-----------+-----------+----------------------------------------------------------------------------------------------------------------+
   | Parameter | Mandatory | Type      | Description                                                                                                    |
   +===========+===========+===========+================================================================================================================+
   | total     | Yes       | Integer   | Number of jobs.                                                                                                |
   +-----------+-----------+-----------+----------------------------------------------------------------------------------------------------------------+
   | jobs      | Yes       | List<Job> | Job list. For details, see :ref:`Table 3 <dataartsstudio_02_0086__en-us_topic_0181281338_table7546519115018>`. |
   +-----------+-----------+-----------+----------------------------------------------------------------------------------------------------------------+

.. _dataartsstudio_02_0086__en-us_topic_0181281338_table7546519115018:

.. table:: **Table 3** Job data structure description

   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter           | Mandatory       | Type            | Description                                                                                                                                                                    |
   +=====================+=================+=================+================================================================================================================================================================================+
   | name                | Yes             | String          | Job name.                                                                                                                                                                      |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | jobType             | Yes             | String          | Job type.                                                                                                                                                                      |
   |                     |                 |                 |                                                                                                                                                                                |
   |                     |                 |                 | -  **REAL_TIME**: real-time processing                                                                                                                                         |
   |                     |                 |                 | -  **BATCH**: batch processing                                                                                                                                                 |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | owner               | No              | String          | Job owner. The length cannot exceed 128 characters.                                                                                                                            |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | priority            | No              | int             | Job priority. The value ranges from 0 to 2. The default value is **0**. **0** indicates a top priority, **1** indicates a medium priority, and **2** indicates a low priority. |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status              | Yes             | String          | Job status.                                                                                                                                                                    |
   |                     |                 |                 |                                                                                                                                                                                |
   |                     |                 |                 | When **jobType** is set to **REAL_TIME**, the status is as follows:                                                                                                            |
   |                     |                 |                 |                                                                                                                                                                                |
   |                     |                 |                 | -  STARTING                                                                                                                                                                    |
   |                     |                 |                 | -  NORMAL                                                                                                                                                                      |
   |                     |                 |                 | -  EXCEPTION                                                                                                                                                                   |
   |                     |                 |                 | -  STOPPING                                                                                                                                                                    |
   |                     |                 |                 | -  STOPPED                                                                                                                                                                     |
   |                     |                 |                 |                                                                                                                                                                                |
   |                     |                 |                 | When **jobType** is set to **BATCH**, the status is as follows:                                                                                                                |
   |                     |                 |                 |                                                                                                                                                                                |
   |                     |                 |                 | -  **SCHEDULING**                                                                                                                                                              |
   |                     |                 |                 | -  **STOPPED**                                                                                                                                                                 |
   |                     |                 |                 | -  **PAUSED**                                                                                                                                                                  |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | createUser          | Yes             | String          | Job creator.                                                                                                                                                                   |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | createTime          | Yes             | Long            | Time when the job is created.                                                                                                                                                  |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | startTime           | No              | Long            | Time when the job starts running.                                                                                                                                              |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | endTime             | No              | Long            | Time when the job stops running.                                                                                                                                               |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | lastInstanceStatus  | No              | String          | Most recent running status of the job instance. This parameter is available only when **jobType** is set to **BATCH**.                                                         |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | lastInstanceEndTime | No              | Long            | Time when the most recent job instance stops to run. This parameter is available only when **jobType** is set to **BATCH**.                                                    |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | lastUpdateTime      | No              | Long            | Time when the job was last updated                                                                                                                                             |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | lastUpdateUser      | No              | String          | User who last updated the job                                                                                                                                                  |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | path                | No              | String          | Path of the job.                                                                                                                                                               |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | singleNodeJobFlag   | No              | boolean         | Whether the job is a single-task job                                                                                                                                           |
   +---------------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Example Request
---------------

Query the job list.

.. code-block:: text

   GET /v1/ff6b627b9d7b45b48f773be511c1a2b8/jobs

Example Response
----------------

-  Success response

   .. code-block::

      {
          "jobs": [
              {
                  "createTime": 1680783636000,
                  "createUser": "test_user",
                  "jobType": "BATCH",
                  "lastInstanceEndTime": 1682519407000,
                  "lastInstanceStatus": "success",
                  "lastUpdateUser": "test_user",
                  "name": "myJob",
                  "owner": "test_user",
                  "path": "/",
                  "priority": 0,
                  "singleNodeJobFlag": false,
                  "status": "SCHEDULING"
              }
          ],
          "total": 1
      }

-  Failure response

   HTTP status code 400

   .. code-block::

      {
          "error_code":"DLF.3051",
          "error_msg":"The request parameter is invalid."
      }
