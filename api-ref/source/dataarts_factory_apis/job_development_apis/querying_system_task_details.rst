:original_name: dataartsstudio_02_0096.html

.. _dataartsstudio_02_0096:

Querying System Task Details
============================

Function
--------

This API is used to query details about asynchronous tasks.

URI
---

-  URI format

   GET /v1/{project_id}/system-tasks/{task_id}

-  Parameter description

   .. table:: **Table 1** URI parameters

      +------------+-----------+--------+----------------------------------------------------------------------------------------------------------------------------------+
      | Parameter  | Mandatory | Type   | Description                                                                                                                      |
      +============+===========+========+==================================================================================================================================+
      | project_id | Yes       | String | Project ID. For details about how to obtain a project ID, see :ref:`Project ID and Account ID <projectid_accountid>`.            |
      +------------+-----------+--------+----------------------------------------------------------------------------------------------------------------------------------+
      | task_id    | Yes       | String | Task ID. For details about how to obtain the ID, see the response parameters in :ref:`Importing a Job <dataartsstudio_02_0090>`. |
      +------------+-----------+--------+----------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 2** Request header parameter

   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                               |
   +=================+=================+=================+===========================================================================================+
   | workspace       | No              | String          | Workspace ID.                                                                             |
   |                 |                 |                 |                                                                                           |
   |                 |                 |                 | -  If this parameter is not set, data in the **default** workspace is queried by default. |
   |                 |                 |                 | -  To query data in other workspaces, this header must be carried.                        |
   +-----------------+-----------------+-----------------+-------------------------------------------------------------------------------------------+

Response Parameters
-------------------

.. table:: **Table 3** Response parameters

   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                |
   +=================+=================+=================+============================================================================================================+
   | id              | Yes             | String          | Task ID.                                                                                                   |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------+
   | name            | Yes             | String          | Name of the task.                                                                                          |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------+
   | startTime       | Yes             | Long            | Start time.                                                                                                |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------+
   | endTime         | No              | Long            | End time.                                                                                                  |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------+
   | lastUpdate      | Yes             | Long            | Time when the task was last updated.                                                                       |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------+
   | status          | Yes             | String          | Task status.                                                                                               |
   |                 |                 |                 |                                                                                                            |
   |                 |                 |                 | -  RUNNING                                                                                                 |
   |                 |                 |                 | -  SUCCESSFUL                                                                                              |
   |                 |                 |                 | -  FAILED                                                                                                  |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------+
   | projectId       | No              | String          | Project ID                                                                                                 |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------+
   | subtasks        | No              | List<SubTask>   | Subtask. For details, see :ref:`Table 4 <dataartsstudio_02_0096__en-us_topic_0181281287_table8440013427>`. |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------+

.. _dataartsstudio_02_0096__en-us_topic_0181281287_table8440013427:

.. table:: **Table 4** subtasks parameters

   +-----------------+-----------------+-----------------+--------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                          |
   +=================+=================+=================+======================================+
   | id              | Yes             | String          | Subtask ID.                          |
   +-----------------+-----------------+-----------------+--------------------------------------+
   | name            | Yes             | String          | Name of the subtask.                 |
   +-----------------+-----------------+-----------------+--------------------------------------+
   | lastUpdate      | Yes             | Long            | Time when the task was last updated. |
   +-----------------+-----------------+-----------------+--------------------------------------+
   | status          | Yes             | String          | Task status.                         |
   |                 |                 |                 |                                      |
   |                 |                 |                 | -  RUNNING                           |
   |                 |                 |                 | -  SUCCESSFUL                        |
   |                 |                 |                 | -  FAILED                            |
   +-----------------+-----------------+-----------------+--------------------------------------+
   | taskId          | No              | String          | Task information                     |
   +-----------------+-----------------+-----------------+--------------------------------------+

Example Request
---------------

Query the task for exporting a job.

.. code-block:: text

   GET /v1/b384b9e9ab9b4ee8994c8633aabc9505/systemTasks/008aae2e675d3bcb01675d40ab3f0005

Example Response
----------------

-  Success response

   .. code-block::

      {
          "endTime": 1544777083000,
          "id": "008aae2e67abe2ff0167abe3a28f0000",
          "lastUpdate": 1544777083000,
      "name": "Import the job from obs://aaaaa/job_batch.zip.",
          "projectId": "b384b9e9ab9b4ee8994c8633aabc9505",
          "startTime": 1544777081000,
          "status": "SUCCESSFUL",
          "subtasks": [
              {
                  "id": "008aae2e67abe2ff0167abe3a7e70002",
                  "lastUpdate": 1544777083000,
      "name": "Import the job_batch job.",
                  "status": "SUCCESSFUL"
                  "taskId": "008aae2e675d3bcb01675d40ab3f0005"
              }
          ]
      }

-  Failure response

   HTTP status code 400

   .. code-block::

      {
          "error_code":"DLF.20810",
          "error_msg":"Task[008aae2e675d3bcb01675d40ab3f0005] does not exist"
      }
