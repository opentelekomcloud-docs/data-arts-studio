:original_name: ShowLink_0.html

.. _ShowLink_0:

Querying a Link
===============

Function
--------

This API is used to query a link.

URI
---

GET /v1.1/{project_id}/clusters/{cluster_id}/cdm/link/{link_name}

.. table:: **Table 1** Path Parameters

   ========== ========= ====== ===========
   Parameter  Mandatory Type   Description
   ========== ========= ====== ===========
   project_id Yes       String Project ID
   cluster_id Yes       String Cluster ID
   link_name  Yes       String Link name
   ========== ========= ====== ===========

Request Parameters
------------------

.. table:: **Table 2** Request header parameters

   +--------------+-----------+--------+----------------------------------------------------------------------------------------------------------+
   | Parameter    | Mandatory | Type   | Description                                                                                              |
   +==============+===========+========+==========================================================================================================+
   | X-Auth-Token | Yes       | String | User token. It can be obtained by calling the IAM API (value of X-Subject-Token in the response header). |
   +--------------+-----------+--------+----------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 3** Response body parameters

   +---------------------+------------------------------------------------------------+---------------------------------------------------------------------------+
   | Parameter           | Type                                                       | Description                                                               |
   +=====================+============================================================+===========================================================================+
   | links               | Array of :ref:`links <showlink_0__response_links>` objects | Link list. For details, see the descriptions of **links** parameters.     |
   +---------------------+------------------------------------------------------------+---------------------------------------------------------------------------+
   | fromTo-unMapping    | String                                                     | Source and destination data sources not supported by table/file migration |
   +---------------------+------------------------------------------------------------+---------------------------------------------------------------------------+
   | batchFromTo-mapping | String                                                     | Source and destination data sources supported by entire DB migration      |
   +---------------------+------------------------------------------------------------+---------------------------------------------------------------------------+

.. _showlink_0__response_links:

.. table:: **Table 4** links

   +-----------------------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                       | Description                                                                              |
   +=======================+============================================================================+==========================================================================================+
   | link-config-values    | :ref:`link-config-values <showlink_0__response_link-config-values>` object | Link parameters. For details, see the descriptions of **link-config-values** parameters. |
   +-----------------------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------+
   | creation-user         | String                                                                     | User who created the link                                                                |
   +-----------------------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------+
   | name                  | String                                                                     | Link name                                                                                |
   +-----------------------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------+
   | id                    | Integer                                                                    | Link ID                                                                                  |
   +-----------------------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------+
   | creation-date         | Long                                                                       | Time when the link was created                                                           |
   +-----------------------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------+
   | connector-name        | String                                                                     | Connector name. The mappings between the connectors and links are as follows:            |
   |                       |                                                                            |                                                                                          |
   |                       |                                                                            | **generic-jdbc-connector**: link to a relational database                                |
   |                       |                                                                            | **obs-connector**: OBS link                                                              |
   |                       |                                                                            | **hdfs-connector**: HDFS link                                                            |
   |                       |                                                                            | **hbase-connector**: HBase or CloudTable link                                            |
   |                       |                                                                            | **hive-connector**: Hive link                                                            |
   |                       |                                                                            | **ftp-connector/sftp-connector**: link to an FTP or SFTP server                          |
   |                       |                                                                            | **mongodb-connector**: MongoDB link                                                      |
   |                       |                                                                            | **redis-connector**: Redis or DCS link                                                   |
   |                       |                                                                            | **kafka-connector**: Kafka link                                                          |
   |                       |                                                                            | **dis-connector**: DIS link                                                              |
   |                       |                                                                            | **elasticsearch-connector**: Elasticsearch or CSS link                                   |
   |                       |                                                                            | **dli-connector**: DLI link                                                              |
   |                       |                                                                            | **http-connector**: HTTP or HTTPS link. This type of link does not have parameters.      |
   |                       |                                                                            | **dms-kafka-connector**: DMS Kafka link                                                  |
   +-----------------------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------+
   | update-date           | Long                                                                       | Time when the link was updated                                                           |
   +-----------------------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------+
   | enabled               | Boolean                                                                    | Whether to activate the link. The default value is **true**.                             |
   +-----------------------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------+
   | update-user           | String                                                                     | User who updated the link                                                                |
   +-----------------------+----------------------------------------------------------------------------+------------------------------------------------------------------------------------------+

.. _showlink_0__response_link-config-values:

.. table:: **Table 5** link-config-values

   +------------------+------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------+
   | Parameter        | Type                                                                   | Description                                                                                     |
   +==================+========================================================================+=================================================================================================+
   | configs          | Array of :ref:`configs <showlink_0__response_configs>` objects         | Data structure of link parameters. For details, see the descriptions of **configs** parameters. |
   +------------------+------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------+
   | extended-configs | :ref:`extended-configs <showlink_0__response_extended-configs>` object | Extended configuration. For details, see the descriptions of **extended-configs** parameters.   |
   +------------------+------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------+
   | validators       | Array of strings                                                       | Validator                                                                                       |
   +------------------+------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------+

.. _showlink_0__response_configs:

.. table:: **Table 6** configs

   +-----------+------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter | Type                                                       | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +===========+============================================================+=================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
   | inputs    | Array of :ref:`Input <showlink_0__response_input>` objects | Input parameter list. Each element in the list is in **name,value** format. For details, see the descriptions of **inputs** parameters. In the **from-config-values** data structure, the value of this parameter varies with the source link type. For details, see section "Source Job Parameters" in the **Cloud Data Migration User Guide**. In the **to-cofig-values** data structure, the value of this parameter varies with the destination link type. For details, see section "Destination Job Parameters" in the **Cloud Data Migration User Guide**. For details about the **inputs** parameter in the **driver-config-values** data structure, see the job parameter descriptions. |
   +-----------+------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name      | String                                                     | Configuration name. The value is **fromJobConfig** for a source job, **toJobConfig** for a destination job, and **linkConfig** for a link.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   +-----------+------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | id        | Integer                                                    | Configuration ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   +-----------+------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | type      | String                                                     | Configuration type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   +-----------+------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _showlink_0__response_input:

.. table:: **Table 7** Input

   ========= ====== ===============
   Parameter Type   Description
   ========= ====== ===============
   name      String Parameter name
   value     String Parameter value
   type      String Value type
   ========= ====== ===============

.. _showlink_0__response_extended-configs:

.. table:: **Table 8** extended-configs

   ========= ====== ===========
   Parameter Type   Description
   ========= ====== ===========
   name      String Name
   value     String Value
   ========= ====== ===========

Example Requests
----------------

.. code-block:: text

   GET /v1.1/1551c7f6c808414d8e9f3c514a170f2e/clusters/6ec9a0a4-76be-4262-8697-e7af1fac7920/cdm/link/sftplink

Example Responses
-----------------

**Status code: 200**

OK

.. code-block::

   {
     "links" : [ {
       "link-config-values" : {
         "configs" : [ {
           "inputs" : [ {
             "name" : "linkConfig.server",
             "type" : "STRING",
             "value" : "100.94.8.163"
           }, {
             "name" : "linkConfig.port",
             "type" : "INTEGER",
             "value" : 22
           }, {
             "name" : "linkConfig.username",
             "type" : "STRING",
             "value" : "root"
           }, {
             "name" : "linkConfig.password",
             "type" : "STRING",
             "value" : "Add password here"
           } ],
           "name" : "linkConfig"
         } ]
       },
       "creation-user" : "cdm",
       "name" : "sftp_link",
       "creation-date" : 1516674482640,
       "connector-name" : "sftp-connector",
       "update-date" : 1516674476022,
       "enabled" : true,
       "update-user" : "cdm"
     } ]
   }

Status Codes
------------

+-------------+-------------------------------------------------------------------+
| Status Code | Description                                                       |
+=============+===================================================================+
| 200         | OK                                                                |
+-------------+-------------------------------------------------------------------+
| 400         | Request error.                                                    |
+-------------+-------------------------------------------------------------------+
| 401         | Authentication failed.                                            |
+-------------+-------------------------------------------------------------------+
| 403         | You do not have required permissions to perform this operation.   |
+-------------+-------------------------------------------------------------------+
| 404         | The requested resource was not found.                             |
+-------------+-------------------------------------------------------------------+
| 500         | An internal service error occurred. For details, see error codes. |
+-------------+-------------------------------------------------------------------+
| 503         | Service unavailable.                                              |
+-------------+-------------------------------------------------------------------+

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
