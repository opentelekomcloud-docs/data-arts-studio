:original_name: dataartsstudio_01_0026.html

.. _dataartsstudio_01_0026:

Hive Link Parameters
====================

CDM supports the following Hive data sources:

-  :ref:`MRS Hive <dataartsstudio_01_0026__en-us_topic_0108618545_section6335145774617>`
-  :ref:`FusionInsight Hive <dataartsstudio_01_0026__en-us_topic_0108618545_section999517914488>`
-  :ref:`Apache Hive <dataartsstudio_01_0026__en-us_topic_0108618545_section9585729145218>`

   .. note::

      Do not change the password or user when the job is running. If you do so, the password will not take effect immediately and the job will fail.

.. _dataartsstudio_01_0026__en-us_topic_0108618545_section6335145774617:

MRS Hive
--------

You can view a table during field mapping only when you have the permission to access the table connected to MRS Hive.

MRS Hive links apply to the MapReduce Service (MRS) on cloud. :ref:`Table 1 <dataartsstudio_01_0026__en-us_topic_0108618545_table111803819501>` describes related parameters.

.. note::

   -  MRS clusters whose Kerberos encryption type is **aes256-sha2,aes128-sha2** are not supported, and only MRS clusters whose Kerberos encryption type is **aes256-sha1,aes128-sha1** are supported.

   -  Before creating an MRS Hive link, you need to add an authenticated Kerberos user on MRS and log in to the MRS management page to change the initial password. Then use the new user to create an MRS link.

   -  To connect to an MRS 2.\ *x* cluster, create a CDM cluster of version 2.\ *x* first. CDM 1.8.\ *x* clusters cannot connect to MRS 2.\ *x* clusters.

   -  Currently, the Hive link obtains the **core-site.xml** configuration information from MRS HDFS. Therefore, if MRS Hive uses OBS as the underlying storage system, configure the AK/SK of OBS on MRS HDFS before creating the Hive link.

   -  Ensure that the MRS cluster and the DataArts Studio instance can communicate with each other. The following requirements must be met for network interconnection:

      -  If the CDM cluster in the DataArts Studio instance and the MRS cluster are in different regions, a public network or a dedicated connection is required. If the Internet is used for communication, ensure that an EIP has been bound to the CDM cluster, and the MRS cluster can access the Internet and the port has been enabled in the firewall rule.
      -  If the CDM cluster in the DataArts Studio instance and the MRS cluster are in the same region, VPC, subnet, and security group, they can communicate with each other by default. If they are in the same VPC but in different subnets or security groups, you must configure routing rules and security group rules. For details about how to configure routing rules, see "Adding Routes to a Route Table" in *Virtual Private Cloud (VPC) x.x.x User Guide* in *Virtual Private Cloud (VPC) x.x.x Usage Guide*. For details about how to configure security group rules, see "Security Group" > "Adding a Security Group Rule" in *Virtual Private Cloud (VPC) x.x.x User Guide* in *Virtual Private Cloud (VPC) x.x.x Usage Guide*.
      -  The MRS cluster and the DataArts Studio workspace belong to the same enterprise project. If they do not, you can modify the enterprise project of the workspace.

.. _dataartsstudio_01_0026__en-us_topic_0108618545_table111803819501:

.. table:: **Table 1** MRS Hive link parameters

   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Parameter                    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                | Example Value         |
   +==============================+============================================================================================================================================================================================================================================================================================================================================================================================================================================+=======================+
   | Name                         | Link name, which should be defined based on the data source type, so it is easier to remember what the link is for                                                                                                                                                                                                                                                                                                                         | hivelink              |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Manager IP                   | Floating IP address of MRS Manager. Click **Select** next to the **Manager IP** text box to select an MRS cluster. CDM automatically fills in the authentication information.                                                                                                                                                                                                                                                              | 127.0.0.1             |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              | .. note::                                                                                                                                                                                                                                                                                                                                                                                                                                  |                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              |    DataArts Studio does not support MRS clusters whose Kerberos encryption type is **aes256-sha2,aes128-sha2**, and only supports MRS clusters whose Kerberos encryption type is **aes256-sha1,aes128-sha1**.                                                                                                                                                                                                                              |                       |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Authentication Method        | Authentication method used for accessing MRS                                                                                                                                                                                                                                                                                                                                                                                               | SIMPLE                |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              | -  **SIMPLE**: Select this for non-security mode.                                                                                                                                                                                                                                                                                                                                                                                          |                       |
   |                              | -  **KERBEROS**: Select this for security mode.                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | HIVE Version                 | Set this to the Hive version on the server.                                                                                                                                                                                                                                                                                                                                                                                                | HIVE_3_X              |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Username                     | If **Authentication Method** is set to **KERBEROS**, you must provide the username and password used for logging in to MRS Manager. If you need to create a snapshot when exporting a directory from HDFS, the user configured here must have the administrator permission on HDFS.                                                                                                                                                        | cdm                   |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              | To create a data connection for an MRS security cluster, do not use user **admin**. The **admin** user is the default management page user and cannot be used as the authentication user of the security cluster. You can create an MRS user and set **Username** and **Password** to the username and password of the created MRS user when creating an MRS data connection.                                                              |                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              | .. note::                                                                                                                                                                                                                                                                                                                                                                                                                                  |                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              |    -  If the CDM cluster version is 2.9.0 or later and the MRS cluster version is 3.1.0 or later, the created user must have the permissions of the **Manager_viewer** role to create links on CDM. To perform operations on databases, tables, and columns of an MRS component, you also need to add the database, table, and column permissions of the MRS component to the user by following the instructions in the MRS documentation. |                       |
   |                              |    -  If the CDM cluster version is earlier than 2.9.0 or the MRS cluster version is earlier than 3.1.0, the created user must have the permissions of **Manager_administrator** or **System_administrator** to create links on CDM.                                                                                                                                                                                                       |                       |
   |                              |    -  A user with only the **Manager_tenant** or **Manager_auditor** permission cannot create connections.                                                                                                                                                                                                                                                                                                                                 |                       |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Password                     | Password used for logging in to MRS Manager                                                                                                                                                                                                                                                                                                                                                                                                | ``-``                 |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Enable ldap                  | This parameter is available when **Proxy connection** is selected for **Connection Type**.                                                                                                                                                                                                                                                                                                                                                 | No                    |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              | If LDAP authentication is enabled for an external LDAP server connected to MRS Hive, the LDAP username and password are required for authenticating the connection to MRS Hive. In this case, this option must be enabled. Otherwise, the connection will fail.                                                                                                                                                                            |                       |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | ldapUsername                 | This parameter is mandatory when **Enable ldap** is enabled.                                                                                                                                                                                                                                                                                                                                                                               | ``-``                 |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              | Enter the username configured when LDAP authentication was enabled for MRS Hive.                                                                                                                                                                                                                                                                                                                                                           |                       |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | ldapPassword                 | This parameter is mandatory when **Enable ldap** is enabled.                                                                                                                                                                                                                                                                                                                                                                               | ``-``                 |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              | Enter the password configured when LDAP authentication was enabled for MRS Hive.                                                                                                                                                                                                                                                                                                                                                           |                       |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | OBS storage support          | The server must support OBS storage. When creating a Hive table, you can store the table in OBS.                                                                                                                                                                                                                                                                                                                                           | No                    |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | AK                           | This parameter is mandatory when **OBS storage support** is enabled. The account corresponding to the AK/SK pair must have the OBS Buckets Viewer permission. Otherwise, OBS cannot be accessed and the "403 AccessDenied" error is reported.                                                                                                                                                                                              | ``-``                 |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              | You need to create an access key for the current account and obtain an AK/SK pair.                                                                                                                                                                                                                                                                                                                                                         |                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              | #. Log in to the management console, move the cursor to the username in the upper right corner, and select **My Credentials** from the drop-down list.                                                                                                                                                                                                                                                                                     |                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              | #. On the **My Credentials** page, choose **Access Keys**, and click **Create Access Key**. See :ref:`Figure 1 <dataartsstudio_01_0026__en-us_topic_0108618545_en-us_topic_0000001129241845_en-us_topic_0183643042_fig1552229194615>`.                                                                                                                                                                                                     |                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              |    .. _dataartsstudio_01_0026__en-us_topic_0108618545_en-us_topic_0000001129241845_en-us_topic_0183643042_fig1552229194615:                                                                                                                                                                                                                                                                                                                |                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              |    .. figure:: /_static/images/en-us_image_0000002269194761.png                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              |       :alt: **Figure 1** Clicking Create Access Key                                                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              |       **Figure 1** Clicking Create Access Key                                                                                                                                                                                                                                                                                                                                                                                              |                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              | #. Click **OK** and save the access key file as prompted. The access key file will be saved to your browser's configured download location. Open the **credentials.csv** file to view **Access Key Id** and **Secret Access Key**.                                                                                                                                                                                                         |                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              |    .. note::                                                                                                                                                                                                                                                                                                                                                                                                                               |                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              |       -  Only two access keys can be added for each user.                                                                                                                                                                                                                                                                                                                                                                                  |                       |
   |                              |       -  To ensure access key security, the access key is automatically downloaded only when it is generated for the first time and cannot be obtained from the management console later. Keep them properly.                                                                                                                                                                                                                              |                       |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | SK                           |                                                                                                                                                                                                                                                                                                                                                                                                                                            | ``-``                 |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Run Mode                     | This parameter is used only when the Hive version is **HIVE_3_X**. Possible values are:                                                                                                                                                                                                                                                                                                                                                    | EMBEDDED              |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              | -  **EMBEDDED**: The link instance runs with CDM. This mode delivers better performance.                                                                                                                                                                                                                                                                                                                                                   |                       |
   |                              | -  **Standalone**: The link instance runs in an independent process. If CDM needs to connect to multiple Hadoop data sources (MRS, Hadoop, or CloudTable) with both Kerberos and Simple authentication modes, **Standalone** prevails.                                                                                                                                                                                                     |                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              |    .. note::                                                                                                                                                                                                                                                                                                                                                                                                                               |                       |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              |       The **STANDALONE** mode is used to solve the version conflict problem. If the connector versions of the source and destination ends of the same link are different, a JAR file conflict occurs. In this case, you need to place the source or destination end in the STANDALONE process to prevent the migration failure caused by the conflict.                                                                                     |                       |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Check Hive JDBC Connectivity | Whether to check the Hive JDBC connectivity                                                                                                                                                                                                                                                                                                                                                                                                | No                    |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Use Cluster Config           | You can use the cluster configuration to simplify parameter settings for the Hadoop connection.                                                                                                                                                                                                                                                                                                                                            | No                    |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Cluster Config Name          | This parameter is valid only when **Use Cluster Config** is set to **Yes**. Select a cluster configuration that has been created.                                                                                                                                                                                                                                                                                                          | hive_01               |
   |                              |                                                                                                                                                                                                                                                                                                                                                                                                                                            |                       |
   |                              | For details about how to configure a cluster, see "DataArts Migration" > "Managing Links" > "Managing Cluster Configurations" in *User Guide*.                                                                                                                                                                                                                                                                                             |                       |
   +------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+

Click **Show Advanced Attributes**, and then click **Add** to add configuration attributes of other clients. The name and value of each attribute must be configured. You can click **Delete** to delete no longer used attributes.

The following are some examples:

-  **connectTimeout=360000** and **socketTimeout=360000**: When a large amount of data needs to be migrated or the entire table is retrieved using query statements, the migration fails due to connection timeout. In this case, you can customize the connection timeout interval (ms) and socket timeout interval (ms) to prevent failures caused by timeout.
-  **hive.server2.idle.operation.timeout=360000**: To prevent Hive migration jobs from being suspended for a long time, you can customize the operation timeout period (ms).
-  **hive.storeFormat=textfile**: During data migration from a relational database to Hive, tables in ORC format are automatically created by default. If you want textfile or parquet tables to be created, add **hive.storeFormat=textfile** or **hive.storeFormat=parquet**.
-  **fs.defaultFS=obs://hivedb**: If the interconnected MRS Hive uses decoupled storage and compute, you can use this configuration to achieve better compatibility.

.. _dataartsstudio_01_0026__en-us_topic_0108618545_section999517914488:

FusionInsight Hive
------------------

The FusionInsight Hive link is applicable to data migration of FusionInsight HD in the local data center. You must use Direct Connect to connect to FusionInsight HD.

:ref:`Table 2 <dataartsstudio_01_0026__en-us_topic_0108618545_table6441152003419>` describes related parameters.

.. _dataartsstudio_01_0026__en-us_topic_0108618545_table6441152003419:

.. table:: **Table 2** FusionInsight Hive link parameters

   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Parameter             | Description                                                                                                                                                                                                                                                                                                                                            | Example Value         |
   +=======================+========================================================================================================================================================================================================================================================================================================================================================+=======================+
   | Name                  | Link name, which should be defined based on the data source type, so it is easier to remember what the link is for                                                                                                                                                                                                                                     | hivelink              |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Manager IP            | IP address of FusionInsight Manager                                                                                                                                                                                                                                                                                                                    | 127.0.0.1             |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Manager Port          | Port number of FusionInsight Manager                                                                                                                                                                                                                                                                                                                   | 28443                 |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | CAS Server Port       | Port number of the CAS server used to connect to FusionInsight                                                                                                                                                                                                                                                                                         | 20009                 |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Authentication Method | Authentication method used for accessing the cluster:                                                                                                                                                                                                                                                                                                  | SIMPLE                |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       | -  **SIMPLE**: Select this for non-security mode.                                                                                                                                                                                                                                                                                                      |                       |
   |                       | -  **KERBEROS**: Select this for security mode.                                                                                                                                                                                                                                                                                                        |                       |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | HIVE Version          | Hive version                                                                                                                                                                                                                                                                                                                                           | HIVE_3_X              |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Username              | Username used for logging in to FusionInsight Manager.                                                                                                                                                                                                                                                                                                 | cdm                   |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Password              | Password used for logging in to FusionInsight Manager                                                                                                                                                                                                                                                                                                  | ``-``                 |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | OBS storage support   | The server must support OBS storage. When creating a Hive table, you can store the table in OBS.                                                                                                                                                                                                                                                       | No                    |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | AK                    | This parameter is mandatory when **OBS storage support** is enabled. The account corresponding to the AK/SK pair must have the OBS Buckets Viewer permission. Otherwise, OBS cannot be accessed and the "403 AccessDenied" error is reported.                                                                                                          | ``-``                 |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       | You need to create an access key for the current account and obtain an AK/SK pair.                                                                                                                                                                                                                                                                     |                       |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       | #. Log in to the management console, move the cursor to the username in the upper right corner, and select **My Credentials** from the drop-down list.                                                                                                                                                                                                 |                       |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       | #. On the **My Credentials** page, choose **Access Keys**, and click **Create Access Key**. See :ref:`Figure 2 <dataartsstudio_01_0026__en-us_topic_0108618545_en-us_topic_0000001129241845_en-us_topic_0183643042_fig1552229194615_1>`.                                                                                                               |                       |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       |    .. _dataartsstudio_01_0026__en-us_topic_0108618545_en-us_topic_0000001129241845_en-us_topic_0183643042_fig1552229194615_1:                                                                                                                                                                                                                          |                       |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       |    .. figure:: /_static/images/en-us_image_0000002269194761.png                                                                                                                                                                                                                                                                                        |                       |
   |                       |       :alt: **Figure 2** Clicking Create Access Key                                                                                                                                                                                                                                                                                                    |                       |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       |       **Figure 2** Clicking Create Access Key                                                                                                                                                                                                                                                                                                          |                       |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       | #. Click **OK** and save the access key file as prompted. The access key file will be saved to your browser's configured download location. Open the **credentials.csv** file to view **Access Key Id** and **Secret Access Key**.                                                                                                                     |                       |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       |    .. note::                                                                                                                                                                                                                                                                                                                                           |                       |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       |       -  Only two access keys can be added for each user.                                                                                                                                                                                                                                                                                              |                       |
   |                       |       -  To ensure access key security, the access key is automatically downloaded only when it is generated for the first time and cannot be obtained from the management console later. Keep them properly.                                                                                                                                          |                       |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | SK                    |                                                                                                                                                                                                                                                                                                                                                        | ``-``                 |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Run Mode              | This parameter is used only when the Hive version is **HIVE_3_X**. Possible values are:                                                                                                                                                                                                                                                                | EMBEDDED              |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       | -  **EMBEDDED**: The link instance runs with CDM. This mode delivers better performance.                                                                                                                                                                                                                                                               |                       |
   |                       | -  **Standalone**: The link instance runs in an independent process. If CDM needs to connect to multiple Hadoop data sources (MRS, Hadoop, or CloudTable) with both Kerberos and Simple authentication modes, **Standalone** prevails.                                                                                                                 |                       |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       |    .. note::                                                                                                                                                                                                                                                                                                                                           |                       |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       |       The **STANDALONE** mode is used to solve the version conflict problem. If the connector versions of the source and destination ends of the same link are different, a JAR file conflict occurs. In this case, you need to place the source or destination end in the STANDALONE process to prevent the migration failure caused by the conflict. |                       |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Use Cluster Config    | You can use the cluster configuration to simplify parameter settings for the Hadoop connection.                                                                                                                                                                                                                                                        | No                    |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Cluster Config Name   | This parameter is valid only when **Use Cluster Config** is set to **Yes**. Select a cluster configuration that has been created.                                                                                                                                                                                                                      | hive_01               |
   |                       |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                       | For details about how to configure a cluster, see "DataArts Migration" > "Managing Links" > "Managing Cluster Configurations" in *User Guide*.                                                                                                                                                                                                         |                       |
   +-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+

Click **Show Advanced Attributes**, and then click **Add** to add configuration attributes of other clients. The name and value of each attribute must be configured. You can click **Delete** to delete no longer used attributes.

The following are some examples:

-  **connectTimeout=360000** and **socketTimeout=360000**: When a large amount of data needs to be migrated or the entire table is retrieved using query statements, the migration fails due to connection timeout. In this case, you can customize the connection timeout interval (ms) and socket timeout interval (ms) to prevent failures caused by timeout.
-  **hive.server2.idle.operation.timeout=360000**: To prevent Hive migration jobs from being suspended for a long time, you can customize the operation timeout period (ms).

.. _dataartsstudio_01_0026__en-us_topic_0108618545_section9585729145218:

Apache Hive
-----------

The Apache Hive link is applicable to data migration of the third-party Hadoop in the local data center or ECS. You must use Direct Connect to connect to Hadoop in the local data center.

:ref:`Table 3 <dataartsstudio_01_0026__en-us_topic_0108618545_table3324121355313>` describes related parameters.

.. _dataartsstudio_01_0026__en-us_topic_0108618545_table3324121355313:

.. table:: **Table 3** Apache Hive link parameters

   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Parameter                | Description                                                                                                                                                                                                                                                                                                                                            | Example Value         |
   +==========================+========================================================================================================================================================================================================================================================================================================================================================+=======================+
   | Name                     | Link name, which should be defined based on the data source type, so it is easier to remember what the link is for                                                                                                                                                                                                                                     | hivelink              |
   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | URI                      | NameNode URI                                                                                                                                                                                                                                                                                                                                           | hdfs://hacluster      |
   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Hive Metastore           | Hive metadata address. For details, see the **hive.metastore.uris** configuration item. Example: thrift://host-192-168-1-212:9083                                                                                                                                                                                                                      | ``-``                 |
   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Authentication Method    | Authentication method used for accessing the cluster:                                                                                                                                                                                                                                                                                                  | SIMPLE                |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          | -  **SIMPLE**: Select this for non-security mode.                                                                                                                                                                                                                                                                                                      |                       |
   |                          | -  **KERBEROS**: Select this for security mode.                                                                                                                                                                                                                                                                                                        |                       |
   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Hive Version             | Hive version                                                                                                                                                                                                                                                                                                                                           | HIVE_3_X              |
   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | IP and Host Name Mapping | If the Hadoop configuration file uses the host name, configure the mapping between the IP address and host name. Separate the IP addresses and host names by spaces and mappings by semicolons (;), carriage returns, or line feeds.                                                                                                                   | ``-``                 |
   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | OBS storage support      | The server must support OBS storage. When creating a Hive table, you can store the table in OBS.                                                                                                                                                                                                                                                       | No                    |
   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | AK                       | This parameter is mandatory when **OBS storage support** is enabled. The account corresponding to the AK/SK pair must have the OBS Buckets Viewer permission. Otherwise, OBS cannot be accessed and the "403 AccessDenied" error is reported.                                                                                                          | ``-``                 |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          | You need to create an access key for the current account and obtain an AK/SK pair.                                                                                                                                                                                                                                                                     |                       |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          | #. Log in to the management console, move the cursor to the username in the upper right corner, and select **My Credentials** from the drop-down list.                                                                                                                                                                                                 |                       |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          | #. On the **My Credentials** page, choose **Access Keys**, and click **Create Access Key**. See :ref:`Figure 3 <dataartsstudio_01_0026__en-us_topic_0108618545_en-us_topic_0000001129241845_en-us_topic_0183643042_fig1552229194615_2>`.                                                                                                               |                       |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          |    .. _dataartsstudio_01_0026__en-us_topic_0108618545_en-us_topic_0000001129241845_en-us_topic_0183643042_fig1552229194615_2:                                                                                                                                                                                                                          |                       |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          |    .. figure:: /_static/images/en-us_image_0000002269194761.png                                                                                                                                                                                                                                                                                        |                       |
   |                          |       :alt: **Figure 3** Clicking Create Access Key                                                                                                                                                                                                                                                                                                    |                       |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          |       **Figure 3** Clicking Create Access Key                                                                                                                                                                                                                                                                                                          |                       |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          | #. Click **OK** and save the access key file as prompted. The access key file will be saved to your browser's configured download location. Open the **credentials.csv** file to view **Access Key Id** and **Secret Access Key**.                                                                                                                     |                       |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          |    .. note::                                                                                                                                                                                                                                                                                                                                           |                       |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          |       -  Only two access keys can be added for each user.                                                                                                                                                                                                                                                                                              |                       |
   |                          |       -  To ensure access key security, the access key is automatically downloaded only when it is generated for the first time and cannot be obtained from the management console later. Keep them properly.                                                                                                                                          |                       |
   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | SK                       |                                                                                                                                                                                                                                                                                                                                                        | ``-``                 |
   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Run Mode                 | This parameter is used only when the Hive version is **HIVE_3_X**. Possible values are:                                                                                                                                                                                                                                                                | EMBEDDED              |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          | -  **EMBEDDED**: The link instance runs with CDM. This mode delivers better performance.                                                                                                                                                                                                                                                               |                       |
   |                          | -  **Standalone**: The link instance runs in an independent process. If CDM needs to connect to multiple Hadoop data sources (MRS, Hadoop, or CloudTable) with both Kerberos and Simple authentication modes, **Standalone** prevails.                                                                                                                 |                       |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          |    .. note::                                                                                                                                                                                                                                                                                                                                           |                       |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          |       The **STANDALONE** mode is used to solve the version conflict problem. If the connector versions of the source and destination ends of the same link are different, a JAR file conflict occurs. In this case, you need to place the source or destination end in the STANDALONE process to prevent the migration failure caused by the conflict. |                       |
   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Use Cluster Config       | You can use the cluster configuration to simplify parameter settings for the Hadoop connection.                                                                                                                                                                                                                                                        | No                    |
   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Cluster Config Name      | This parameter is valid when **Use Cluster Config** is set to **Yes** or **Authentication Method** is set to **KERBEROS**. Select a cluster configuration that has been created.                                                                                                                                                                       | hive_01               |
   |                          |                                                                                                                                                                                                                                                                                                                                                        |                       |
   |                          | For details about how to configure a cluster, see "DataArts Migration" > "Managing Links" > "Managing Cluster Configurations" in *User Guide*.                                                                                                                                                                                                         |                       |
   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
   | Hive JDBC URL            | URL for connecting to Hive JDBC. By default, anonymous users are used.                                                                                                                                                                                                                                                                                 | ``-``                 |
   +--------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+

Click **Show Advanced Attributes**, and then click **Add** to add configuration attributes of other clients. The name and value of each attribute must be configured. You can click **Delete** to delete no longer used attributes.

The following are some examples:

-  **connectTimeout=360000** and **socketTimeout=360000**: When a large amount of data needs to be migrated or the entire table is retrieved using query statements, the migration fails due to connection timeout. In this case, you can customize the connection timeout interval (ms) and socket timeout interval (ms) to prevent failures caused by timeout.
-  **hive.server2.idle.operation.timeout=360000**: To prevent Hive migration jobs from being suspended for a long time, you can customize the operation timeout period (ms).
