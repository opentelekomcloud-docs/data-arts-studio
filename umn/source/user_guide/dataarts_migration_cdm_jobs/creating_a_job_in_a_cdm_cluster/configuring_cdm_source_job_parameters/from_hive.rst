:original_name: dataartsstudio_01_0051.html

.. _dataartsstudio_01_0051:

From Hive
=========

If the source link of a job is a :ref:`Hive link <dataartsstudio_01_0026>`, configure the source job parameters based on :ref:`Table 1 <dataartsstudio_01_0051__en-us_topic_0108275424_table31823995163953>`.

.. _dataartsstudio_01_0051__en-us_topic_0108275424_table31823995163953:

.. table:: **Table 1** Parameter description

   +---------------------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
   | Category            | Parameter         | Description                                                                                                                                                                                                                                                                                                          | Example Value                                                                         |
   +=====================+===================+======================================================================================================================================================================================================================================================================================================================+=======================================================================================+
   | Basic parameters    | Database Name     | Database name. Click the icon next to the text box. The dialog box for selecting the database is displayed.                                                                                                                                                                                                          | default                                                                               |
   +---------------------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
   |                     | Table Name        | Hive table name. Click the icon next to the text box. The dialog box for selecting the table is displayed.                                                                                                                                                                                                           | TBL_E                                                                                 |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   | This parameter can be configured as a macro variable of date and time and a path name can contain multiple macro variables. When the macro variable of date and time works with a scheduled job, the incremental data can be synchronized periodically.                                                              |                                                                                       |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   | .. note::                                                                                                                                                                                                                                                                                                            |                                                                                       |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   |    If you have configured a macro variable of date and time and schedule a CDM job through DataArts Studio DataArts Factory, the system replaces the macro variable of date and time with (*Planned start time of the data development job* - *Offset*) rather than (*Actual start time of the CDM job* - *Offset*). |                                                                                       |
   +---------------------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
   |                     | Read Mode         | Two read modes are available: HDFS and JDBC. By default, the HDFS mode is used. If you do not need to use the WHERE condition to filter data or add new fields on the field mapping page, select the HDFS mode.                                                                                                      | HDFS                                                                                  |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   | -  The HDFS mode shows good performance, but in this mode, you cannot use the WHERE condition to filter data or add new fields on the field mapping page.                                                                                                                                                            |                                                                                       |
   |                     |                   | -  The HDFS mode allows you to use the WHERE condition to filter data or add new fields on the field mapping page.                                                                                                                                                                                                   |                                                                                       |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   |    .. note::                                                                                                                                                                                                                                                                                                         |                                                                                       |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   |       If the migration source is Hive and JDBC is used to read data, CDM does not support concurrency. That is, **Concurrent Extractors** can only be set to **1**.                                                                                                                                                  |                                                                                       |
   +---------------------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
   |                     | Use SQL Statement | Whether you can use SQL statements to export data from a relational database                                                                                                                                                                                                                                         | No                                                                                    |
   +---------------------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
   |                     | SQL Statement     | When **Use SQL Statement** is set to **Yes**, enter an SQL statement here. CDM exports data based on the SQL statement.                                                                                                                                                                                              | select id,name from sqoop.user;                                                       |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   | .. note::                                                                                                                                                                                                                                                                                                            |                                                                                       |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   |    -  SQL statements can only be used to query data. Join and nesting are supported, but multiple query statements are not allowed, for example, **select \* from table a; select \* from table b**.                                                                                                                 |                                                                                       |
   |                     |                   |    -  With statements are not supported.                                                                                                                                                                                                                                                                             |                                                                                       |
   |                     |                   |    -  Comments, such as **--** and **/\***, are not supported.                                                                                                                                                                                                                                                       |                                                                                       |
   |                     |                   |    -  Addition, deletion, and modification operations are not supported, including but not limited to the following:                                                                                                                                                                                                 |                                                                                       |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   |       -  load data                                                                                                                                                                                                                                                                                                   |                                                                                       |
   |                     |                   |       -  delete from                                                                                                                                                                                                                                                                                                 |                                                                                       |
   |                     |                   |       -  alter table                                                                                                                                                                                                                                                                                                 |                                                                                       |
   |                     |                   |       -  create table                                                                                                                                                                                                                                                                                                |                                                                                       |
   |                     |                   |       -  drop table                                                                                                                                                                                                                                                                                                  |                                                                                       |
   |                     |                   |       -  into outfile                                                                                                                                                                                                                                                                                                |                                                                                       |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   |    -  If the SQL statement is too long, the request fails to be delivered. If you continue to create a job, the system displays an error message indicating that the request is incorrect. In this case, you need to simplify or clear the SQL statement and try again.                                              |                                                                                       |
   +---------------------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
   | Advanced attributes | Partition Values  | This parameter is displayed when you select the HDFS read mode and click **Show Advanced Attributes**.                                                                                                                                                                                                               | -  Attribute value in the single-value or multi-value filtering scenario:             |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   | This parameter indicates extracting the partition of a specified value. The attribute name is the partition name. You can configure multiple values (separated by spaces) or a field value range. The time macro function is supported.                                                                              |    ${dateformat(yyyyMMdd, -1, DAY)} ${dateformat(yyyyMMdd)}                           |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   | .. note::                                                                                                                                                                                                                                                                                                            | -  Attribute value in the range filtering scenario:                                   |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   |    If you have configured a macro variable of date and time and schedule a CDM job through DataArts Studio DataArts Factory, the system replaces the macro variable of date and time with (*Planned start time of the data development job* - *Offset*) rather than (*Actual start time of the CDM job* - *Offset*). |    ${value} >= ${dateformat(yyyyMMdd, -7, DAY)} && ${value} < ${dateformat(yyyyMMdd)} |
   +---------------------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+
   |                     | WHERE Clause      | This parameter is displayed when you select the JDBC read mode and click **Show Advanced Attributes**.                                                                                                                                                                                                               | age > 18 and age <= 60                                                                |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   | This parameter indicates the WHERE clause to be extracted. If this parameter is not set, the entire table is extracted. If the table to be migrated does not contain the fields specified by the WHERE clause, the migration will fail.                                                                              |                                                                                       |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   | You can set a date macro variable to extract data generated on a specific date.                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   | .. note::                                                                                                                                                                                                                                                                                                            |                                                                                       |
   |                     |                   |                                                                                                                                                                                                                                                                                                                      |                                                                                       |
   |                     |                   |    If you have configured a macro variable of date and time and schedule a CDM job through DataArts Studio DataArts Factory, the system replaces the macro variable of date and time with (*Planned start time of the data development job* - *Offset*) rather than (*Actual start time of the CDM job* - *Offset*). |                                                                                       |
   +---------------------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------+

.. note::

   If the data source is Hive, CDM will automatically partition data using the Hive data partitioning file.
