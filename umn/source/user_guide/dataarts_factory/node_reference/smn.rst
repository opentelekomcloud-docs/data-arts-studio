:original_name: dataartsstudio_01_0468.html

.. _dataartsstudio_01_0468:

SMN
===

Functions
---------

The SMN node is used to send notifications to users.

Parameters
----------

:ref:`Table 1 <dataartsstudio_01_0468__en-us_topic_0121505665_table3764823994826>` and :ref:`Table 2 <dataartsstudio_01_0468__en-us_topic_0121505665_table58040457102411>` describe the parameters of the SMN node.

.. _dataartsstudio_01_0468__en-us_topic_0121505665_table3764823994826:

.. table:: **Table 1** Parameters of SMN nodes

   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Mandatory             | Description                                                                                                                                                                             |
   +=======================+=======================+=========================================================================================================================================================================================+
   | Node Name             | Yes                   | Name of a node. The name must contain 1 to 128 characters, including only letters, numbers, underscores (_), hyphens (-), slashes (/), less-than signs (<), and greater-than signs (>). |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Topic Name            | Yes                   | Name of the topic. The topic has been created in SMN.                                                                                                                                   |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Message Title         | No                    | Title of the message. The title cannot exceed 512 characters.                                                                                                                           |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Message Type          | Yes                   | Format of the message.                                                                                                                                                                  |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  **Text**: The message is sent in text format.                                                                                                                                        |
   |                       |                       | -  **JSON**: The message is sent in JSON format. You can send different messages to types of subscribers.                                                                               |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       |    -  Manual: You can enter a message in **Message Content**.                                                                                                                           |
   |                       |                       |    -  Automatic: Click **Generate JSON Message**. In the displayed dialog box, enter a message and select a protocol.                                                                   |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  **Template**: The message is sent in template format, that is, in fixed format. The variables can be processed by tags.                                                              |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       |    -  Manual: You can enter a message in **Message Content**.                                                                                                                           |
   |                       |                       |    -  Automatic: Click **Generate Template Message**. In the displayed dialog box, select a template name and set the value of **tag**.                                                 |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Message Content       | Yes                   | Message content to be provided. The requirements for entering different types of messages are as follows:                                                                               |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  **Text**: The size cannot exceed 10 KB.                                                                                                                                              |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  **JSON**: The JSON message must contain the Default protocol and the size cannot exceed 10 KB.                                                                                       |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       |    Example:                                                                                                                                                                             |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       |    .. code-block::                                                                                                                                                                      |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       |       {                                                                                                                                                                                 |
   |                       |                       |         "default": "Dear Sir or Madam, this is a default message.",                                                                                                                     |
   |                       |                       |         "email": "Dear Sir or Madam, this is an email message.",                                                                                                                        |
   |                       |                       |         "http": "{'message':'Dear Sir or Madam, this is an HTTP message.'}",                                                                                                            |
   |                       |                       |         "https": "{'message':'Dear Sir or Madam, this is an HTTPS message.'}",                                                                                                          |
   |                       |                       |         "sms": "This is an SMS message."                                                                                                                                                |
   |                       |                       |           }                                                                                                                                                                             |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | -  **Template**: The size cannot exceed 10 KB.                                                                                                                                          |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       |    Example:                                                                                                                                                                             |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       |    .. code-block::                                                                                                                                                                      |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       |       "message_template_name":"confirm_message",                                                                                                                                        |
   |                       |                       |       "tags":{                                                                                                                                                                          |
   |                       |                       |           "topic_urn":"urn:smn:regionId:xxxx:SMN_01"                                                                                                                                    |
   |                       |                       |            }                                                                                                                                                                            |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       |    In the preceding information, **message_template_name** indicates the template name, and **tags** indicates all tags in the template.                                                |
   |                       |                       |                                                                                                                                                                                         |
   |                       |                       | For details about how to configure SMN, see section the *Simple Message Notification User Guide*.                                                                                       |
   +-----------------------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _dataartsstudio_01_0468__en-us_topic_0121505665_table58040457102411:

.. table:: **Table 2** Advanced parameters

   +----------------------------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                                                      | Mandatory             | Description                                                                                                                                                                                                                                                  |
   +================================================================+=======================+==============================================================================================================================================================================================================================================================+
   | Max. Node Execution Duration                                   | Yes                   | Execution timeout interval for the node. If retry is configured and the execution is not complete within the timeout interval, the node will be executed again.                                                                                              |
   +----------------------------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Retry upon Failure                                             | Yes                   | Whether to re-execute a node if it fails to be executed. Possible values:                                                                                                                                                                                    |
   |                                                                |                       |                                                                                                                                                                                                                                                              |
   |                                                                |                       | -  **Yes**: The node will be re-executed, and the following parameters must be configured:                                                                                                                                                                   |
   |                                                                |                       |                                                                                                                                                                                                                                                              |
   |                                                                |                       |    -  **Retry upon Timeout**                                                                                                                                                                                                                                 |
   |                                                                |                       |    -  **Maximum Retries**                                                                                                                                                                                                                                    |
   |                                                                |                       |    -  **Retry Interval (seconds)**                                                                                                                                                                                                                           |
   |                                                                |                       |                                                                                                                                                                                                                                                              |
   |                                                                |                       | -  **No**: The node will not be re-executed. This is the default setting.                                                                                                                                                                                    |
   |                                                                |                       |                                                                                                                                                                                                                                                              |
   |                                                                |                       |    .. note::                                                                                                                                                                                                                                                 |
   |                                                                |                       |                                                                                                                                                                                                                                                              |
   |                                                                |                       |       If retry is configured for a job node and the timeout duration is configured, the system allows you to retry a node when the node execution times out.                                                                                                 |
   |                                                                |                       |                                                                                                                                                                                                                                                              |
   |                                                                |                       |       If a node is not re-executed when it fails upon timeout, you can go to the **Default Configuration** page to modify this policy.                                                                                                                       |
   |                                                                |                       |                                                                                                                                                                                                                                                              |
   |                                                                |                       |       **Retry upon Timeout** is displayed only when **Retry upon Failure** is set to **Yes**.                                                                                                                                                                |
   +----------------------------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Policy for Handling Subsequent Nodes If the Current Node Fails | Yes                   | Operation that will be performed if the node fails to be executed. Possible values:                                                                                                                                                                          |
   |                                                                |                       |                                                                                                                                                                                                                                                              |
   |                                                                |                       | -  **Suspend execution plans of the subsequent nodes**: stops running subsequent nodes. The job instance status is **Failed**.                                                                                                                               |
   |                                                                |                       | -  **End the current job execution plan**: stops running the current job. The job instance status is **Failed**.                                                                                                                                             |
   |                                                                |                       | -  **Go to the next node**: ignores the execution failure of the current node. The job instance status is **Failure ignored**.                                                                                                                               |
   |                                                                |                       | -  **Suspend the current job execution plan**: If the current job instance is in abnormal state, the subsequent nodes of this node and the subsequent job instances that depend on the current job are in waiting state.                                     |
   +----------------------------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Enable Dry Run                                                 | No                    | If you select this option, the node will not be executed, and a success message will be returned.                                                                                                                                                            |
   +----------------------------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Task Groups                                                    | No                    | Select a task group. If you select a task group, you can control the maximum number of concurrent nodes in the task group in a fine-grained manner in scenarios where a job contains multiple nodes, a data patching task is ongoing, or a job is rerunning. |
   +----------------------------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
